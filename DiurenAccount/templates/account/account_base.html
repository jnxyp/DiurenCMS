{% extends 'common/header_and_footer.html' %}
{% load i18n %}

{% block title %}
    {% block title_prefix %}{% endblock %} - {{ DIURENACCOUNT.VERBOSE_NAME }}
{% endblock %}

{% block header %}
    <nav class="navbar navbar-dark navbar-expand-md bg-dark px-3 py-1" style="min-height: 4rem">
        <a class="navbar-brand"
           href="{% url 'DiurenAccount:self' %}">{{ DIURENACCOUNT.VERBOSE_NAME }}</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse"
                data-target="#navbar_collapsed" aria-controls="navbar_collapsed"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-md-end" id="navbar_collapsed">
        <span class="navbar-nav align-items-md-center">
            {% if request.user.is_authenticated %}
                <a class="nav-link active"
                   href="{% url 'DiurenAccount:self' %}">
                    <img class="rounded-circle-no-stretch mr-2"
                         style="height: 2.3rem; width: 2.3rem"
                         src="{{ user.profile.avatar_url }}"
                         alt={% trans '头像' %}>
                    <span>{{ request.user.profile.name }}</span>
                </a>
                <a class="nav-link active"
                   href="{% url 'DiurenAccount:self' %}">{% trans '个人资料' %}</a>
                <a class="nav-link text-danger"
                   href="{% url 'DiurenAccount:logout' %}">{% trans '退出登录' %}</a>
            {% else %}
                <a class="nav-link text-primary"
                   href="{% url 'DiurenAccount:login' %}">{% trans '登录系统' %}</a>
                <a class="nav-link active"
                   href="{% url 'DiurenAccount:register' %}">{% trans '注册账号' %}</a>
                <a class="nav-link active"
                   href="{% url 'DiurenAccount:reset-password' %}">{% trans '重置密码' %}</a>
            {% endif %}
        </span>
        </div>
    </nav>
{% endblock %}

